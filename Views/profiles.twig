<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="../Styles/modal.css">
    <script src="../Javascript/modal.js"></script>
    <meta charset="UTF-8">
    <title>Profiles</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>

{% if profiles is empty %}
<h2>No Profiles</h2>
{% else %}
<table class="table table-striped">
    <tr>
        <th>Id</th>
        <th>Username</th>
        <th>Password</th>
        <th>Role</th>
        <th>Fullname</th>
        <th></th>
    </tr>
    {% for profile in profiles %}
        <tr>
            <td>{{profile.Id}}</td>
            <td>{{profile.Uname}}</td>
            <td>{{profile.Upass}}</td>
            <td>{{profile.Role}}</td>
            <td>{{profile.Fullname}}</td>
            <td><a href="UpdateProfileById.php?id={{profile.Id}}">Update</a> / <a href="DeleteProfileById.php?id={{profile.Id}}" onclick="return confirm('Are you sure?')">Delete</a></td>
        </tr>
    {% endfor %}
</table>
{% endif %}
<h3>Search by ID</h3>
<form class="float" action="ProfileById.php" method="post">
    <label for="id">Profile ID:</label>
    <input type="number" name="id">
    <input type="submit" name="submit" value="Search">
</form>
<form class="float" action="AllProfiles.php">
    <input type="submit" value="Get All Profiles">
</form>

<!-- Trigger/Open The Modal -->
<button id="myBtn">Create New Profile</button>

<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3>New Profile</h3>
        <form action="NewProfile.php" method="post">

            <div class="form-group">
                <label for="uname">Username</label>
                <input type="text" name="uname" class="form-control" id="uname" placeholder="Username">
            </div>

            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" name="upass" class="form-control" id="password" placeholder="Password">
            </div>

            <div class="form-group">
                <label for="fullname">Full Name</label>
                <input type="text" name="fullname" class="form-control" id="fullname" placeholder="Full Name">
            </div>

            <div class="form-group">
                <label for="role">Role</label>
                <input type="number" name="role" class="form-control" id="role" placeholder="Role">
            </div>


            <input type="submit" value="Create">
        </form>
    </div>

</div>

<script>
    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal
    btn.onclick = function() {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>
</body>
</html>